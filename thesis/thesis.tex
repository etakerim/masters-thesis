\documentclass[12pt, a4paper, twoside, openright, english]{book}

\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[top=2.5cm,
	bottom=3cm,
	right=3.2cm,
	left=3.2cm
]{geometry}

\usepackage{subcaption}
\usepackage{hyperref}
\usepackage{enumitem}
\usepackage{tabularx}
\usepackage{afterpage}
\usepackage{longtable}
\usepackage{multirow}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{listings}
\usepackage{titlesec}
\usepackage{setspace}
\usepackage{fancyhdr}
\usepackage{fancyvrb}
\usepackage[fleqn]{amsmath}
\usepackage{pdfpages}
\usepackage{nccmath}
\usepackage{csquotes}
\usepackage{diagbox}
\usepackage{ifthen}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage[super]{nth}

\usepackage[titles]{tocloft} % TOC header same as chapter title
%\usepackage{showframe}
\usepackage{titlesec}
\titlespacing*{\chapter}{0pt}{0pt}{40pt}

\usepackage{colortbl}
\usepackage{tabulary}
\usepackage{adjustbox}

\usepackage{lmodern}
\usepackage{fourier-orns}
\newlength\longest

% Abbreviations
\usepackage{nomencl}
\makenomenclature
\renewcommand{\nomname}{List of Abbreviations}


\usepackage{expl3}
\usepackage{etoolbox}
%\preto\tabular{\shorthandoff{-}}

\usepackage[style=iso-numeric, backend=biber, url=false]{biblatex}
\renewcommand*{\bibfont}{\normalfont\small}
\addbibresource{literature.bib}


% Formulas
\newcommand{\listequationsname}{List of Equations}
\newlistof{myequations}{equ}{\listequationsname}
\newcommand{\myequations}[1]{
\addcontentsline{equ}{myequations}{\protect\numberline{\theequation}\quad #1}}

% Algorithms
\makeatletter
\renewcommand*{\ALG@name}{Algorithms}
%\renewcommand{\listalgorithmname}{Zoznam algoritmov}
\algrenewcommand\algorithmicrequire{\textbf{Input:}}
\algrenewcommand\algorithmicensure{\textbf{Output:}}
\makeatother

% Empty even pages at the end of chapter
\makeatletter
\renewcommand*{\cleardoublepage}{\clearpage\if@twoside \ifodd\c@page\else
\hbox{}%
\thispagestyle{empty}%
\newpage%
\if@twocolumn\hbox{}\newpage\fi\fi\fi}
\makeatother

% roman numerals
\makeatletter
\newcommand*{\rom}[1]{\expandafter\@slowromancap\romannumeral #1@}
\makeatother


% Číslo kapitoly na rovnakom riadku ako názov
\titleformat{\chapter}{\normalfont\huge\bf}{\thechapter}{1em}{}

\raggedbottom
\newcommand{\emptypage}{\newpage\thispagestyle{empty}\mbox{}\newpage}
\newcommand{\signaturespace}[2]{
  \begingroup
  \renewcommand{\arraystretch}{0}
  \begin{tabular}[t]{cc}
  \hspace*{0pt}
  \cleaders\hbox{\kern.6pt.\kern.6pt}\hskip#1\relax
  \hspace*{0pt}
  \\[0.5cm]
  #2
  \end{tabular}
  \endgroup
}

\pagestyle{fancy}
\fancyhf{}  % clear all header and footers
\fancyhead[LE]{\leftmark}
\fancyhead[RO]{\rightmark}
\fancyfoot[LE, RO]{\thepage}

\fancypagestyle{plain}{
  \fancyhf{}
  \renewcommand{\headrulewidth}{0pt}
  \fancyhf[lef,rof]{\thepage}
}

\setlength{\headheight}{16pt}

\renewcommand{\ttdefault}{pcr}
\lstdefinestyle{cstyle}{
    language=C,
	basicstyle=\linespread{1.1}\ttfamily\footnotesize,
    numbers=left,
    numberstyle=\tiny,
    frame=single,
    tabsize=4,
    captionpos=b,
    breaklines=true,
    texcl=true,
	numbersep=8pt,
	framexleftmargin=15pt,
	xleftmargin=5ex,
     xrightmargin=3.4pt,
	 morekeywords = {uint8_t,uint16_t,int16_t,uint32_t,int32_t,bool}
}
\lstdefinestyle{docs}{
    language=C,
	basicstyle=\linespread{1.1}\ttfamily\small\bfseries,
    tabsize=4,
    breaklines=true,
    belowskip=0pt
}
\renewcommand{\lstlistingname}{Source code}

\setstretch{1.5}
\newcommand{\University}[0] {Slovenská technická univerzita v Bratislave}
\newcommand{\UniversityEN}[0] {Slovak University of Technology in Bratislava}
\newcommand{\Faculty}[0] {Fakulta informatiky a informačných technológií}
\newcommand{\FacultyEN}[0] {Faculty of Informatics and Information Technologies}

\newcommand{\ThesisTitle}[0] {Diplomová práca}
\newcommand{\ThesisTitleEN}[0] {Master's Thesis}

\newcommand{\Thesis}[0] {Diplomová práca}
\newcommand{\ThesisEN}[0] {Master's Thesis}
\newcommand{\Title}[0] {Vibrodiagnostika strojov s~priemyselným internetom vecí}
\newcommand{\TitleEN}[0] {Machinery Vibrodiagnostics with~the~Industrial~Internet~of~Things}

\newcommand{\Author}[0] {Bc. Miroslav Hájek}
\newcommand{\Supervisor}[0] {Ing. Marcel Baláž, PhD.}
\newcommand{\DepartmentalAdvisor}[0] {Ing. Jakub Findura}
\newcommand{\Consultant}[0] {Ing. Lukáš Doubravský}

\newcommand{\AuthorEN}[0] {Miroslav Hájek}
\newcommand{\SupervisorEN}[0] {Dr. Marcel Baláž}
\newcommand{\DepartmentalAdvisorEN}[0] {Jakub Findura}
\newcommand{\ConsultantEN}[0] {Lukáš Doubravský}

\newcommand{\RegNo}[0] {FIIT-182905-102927}
\newcommand{\Date}[0] {Máj 2024}
\newcommand{\DateEN}[0] {May 2024}
\newcommand{\SignDateEN}[0] {17 May 2024}
\newcommand{\StudyProgramme}[0] {Inteligentné softvérové systémy}
\newcommand{\StudyProgrammeEN}[0] {Intelligent Software Systems}
\newcommand{\StudyField}[0] {Informatika}
\newcommand{\StudyFieldEN}[0] {Computer Science}
\newcommand{\Institute}[0] {Institute of Computer Engineering and Applied Informatics}
\newcommand{\SignPlace}[0] {Bratislava, }

% Todo list
\newlist{todolist}{itemize}{2}
\setlist[todolist]{label=$\square$}

\begin{document}
\nomenclature{\textbf{CbM}}{Condition-based maintenance}
\nomenclature{\textbf{P-F curve}}{Curve of machine degradation from potential failure to failure}
\nomenclature{\textbf{RUL}}{Remaining useful life}
\nomenclature{\textbf{Hz}}{Hertz - unit of frequency}
\nomenclature{\textbf{rpm}}{Revolutions per minute}
\nomenclature{\textbf{W}}{Watt - unit of power}
\nomenclature{\textbf{MIMOSA}}{Machinery Information Management Open System Alliance}
\nomenclature{\textbf{p-p}}{Peak-to-peak distance of the signal waveform}
\nomenclature{\textbf{rms}}{Root mean square}
\nomenclature{\textbf{DC}}{Direct current signal component}
\nomenclature{\textbf{FIR}}{Finite impulse response}
\nomenclature{\textbf{IIR}}{Infinite impulse response}
\nomenclature{\textbf{CIC}}{Cascaded-integrator-comb}
\nomenclature{\textbf{ANC}}{Adaptive noise cancellation}
\nomenclature{\textbf{TSA}}{Time synchronous averaging}
\nomenclature{\textbf{MSE}}{Mean square error}
\nomenclature{\textbf{FFT}}{Fast Fourier transform}
\nomenclature{\textbf{STFT}}{Short-time Fourier transform}
\nomenclature{\textbf{TKEO}}{Teager-Kaiser energy operator}
\nomenclature{\textbf{TET}}{Transient-extracting transform}
\nomenclature{\textbf{AM-FM}}{Amplitude modulation and frequency modulation}
\nomenclature{\textbf{WT}}{Wavelet transform}
\nomenclature{\textbf{CWT}}{Continuous Wavelet transform}
\nomenclature{\textbf{SST}}{Synchrosqueezing Wavelet transform}
\nomenclature{\textbf{DWT}}{Discrete Wavelet Transform}
\nomenclature{\textbf{WPD}}{Wavelet Packet Decomposition}
\nomenclature{\textbf{EWT}}{Empirical Wavelet Transform}
\nomenclature{\textbf{MKCD}}{Maximum Correlated Kurtosis Deconvolution}
\nomenclature{\textbf{SNR}}{Signal-to-noise ratio}
\nomenclature{\textbf{AE}}{Acoustic emission}
\nomenclature{\textbf{IMF}}{Intrinsic mode function}
\nomenclature{\textbf{EMD}}{Empirical mode decomposition}
\nomenclature{\textbf{SES}}{Squared envelope spectrum}
\nomenclature{\textbf{PCHIP}}{Piecewise Cubic Hermite Interpolating Polynomial}
\nomenclature{\textbf{PCA}}{Principal Component Analysis}
\nomenclature{\textbf{PC}}{Principal component}
\nomenclature{\textbf{k-NN}}{k-nearest neighbors algorithm}
\nomenclature{\textbf{MaFaulDa}}{Machinery Fault Database}
\nomenclature{\textbf{IoT}}{Internet of Things}
\nomenclature{\textbf{MEMS}}{Micro-Electro-Mechanical Systems}


% Cover -------------------------------------------------------------
\input{chapters/preliminaries/cover}
\emptypage

%  Main part ------------------------------------------------------
\newgeometry{top=2.5cm, bottom=3cm, right=2.5cm, left=3.5cm}

% Title page
\pagenumbering{roman}
\input{chapters/preliminaries/titlepage}
\emptypage

% Thesis topic
\thispagestyle{empty}
\includepdf[pages=-, scale=1]{chapters/topic}
\emptypage

% Thesis assignment
\thispagestyle{empty}
\includepdf[pages=-, scale=1]{chapters/assignment}
\emptypage

% Declaration of Honour
\input{chapters/preliminaries/declaration}
\emptypage

% Acknowledgments
\input{chapters/preliminaries/acknowledgments}
\emptypage

% Annotations
\input{chapters/preliminaries/annotation}

% Contents
\pagestyle{empty}
\tableofcontents{}
\listoffigures
\listoftables
\listofmyequations

% {\let\clearpage\relax }
\printnomenclature
\emptypage

\pagestyle{fancy}
% Chapters
\pagenumbering{arabic}

\input{chapters/01-introduction}

\input{chapters/02-analysis}

\input{chapters/03-design}

\input{chapters/04-implementation}

\input{chapters/05-evaluation}

\input{chapters/06-conclusion}

%\nocite{*}
\printbibliography[heading=bibintoc]

%  Appendix ---------------------------------------------------------
\addtocontents{toc}{\protect\setcounter{tocdepth}{0}}
\addtocontents{toc}{\cftpagenumbersoff{chapter}}
\let\svaddcontentsline\addcontentsline
\renewcommand\addcontentsline[3]{%
  \ifthenelse{\equal{#1}{lof}}{}%
  {\ifthenelse{\equal{#1}{lot}}{}{\svaddcontentsline{#1}{#2}{#3}}}}

\appendix
\titleformat{\chapter}{\normalfont\LARGE\bf}{Appendix \thechapter:}{0.5em}{}
\renewcommand{\chaptermark}[1]{\markboth{\MakeUppercase{Appendix \thechapter.\ #1}}{}}

% Ak nechce vypísať čísla strán na konci prílohy: \cleardoublepage
\input{chapters/appendix/A-resume}

\input{chapters/appendix/B-technical-documentation}

\input{chapters/appendix/C-user-guide}

\input{chapters/appendix/D-iit-src-paper}

\input{chapters/appendix/E-work-plan}

\input{chapters/appendix/F-digital-medium}

\end{document}
